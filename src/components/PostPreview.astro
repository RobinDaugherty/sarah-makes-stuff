---
import { Picture } from 'astro:assets';
import { type CollectionEntry } from 'astro:content';
import FormattedDate from './FormattedDate.astro';

type Props = {
	post: CollectionEntry<'diy' | 'dessert'>;
	class?: string;
};

const { post, class: className } = Astro.props;
const { title, publishedDate, heroImage } = post.data;

const path = `/${post.collection}/${post.slug}`;
---

<article class:list={[className]}>
	<a href={path} class="picture">
		<Picture src={heroImage} alt="" />
	</a>
	<span class="published-date">
		<FormattedDate date={publishedDate} />
	</span>
	<a href={path} class="title">
		<span class="date-inside-title">
			<FormattedDate date={publishedDate} />
		</span>
		{title}
	</a>
</article>

<style lang="scss">
	article {
		display: block;
		text-align: center;
		padding-bottom: 2rem;

		width: 100%;
		@include breakpoint(sm) {
			width: 44%;
		}
		@include breakpoint(md) {
			width: 29%;
		}
		@include breakpoint(lg) {
			width: 21%;
		}
		@include breakpoint(xl) {
			width: 18%;
		}

		> a.picture {
			display: block;
			margin-bottom: 1rem;
		}

		.published-date {
			display: block;
			margin-bottom: 1rem;
			font-size: 0.8rem;
			color: var(--gray);
			letter-spacing: 0.02em;
			line-height: 1.5em;
		}

		a.title {
			display: block;
			margin-bottom: 1rem;
			color: var(--black);
			font-size: 1.2rem;
			text-transform: uppercase;
			font-weight: 350;
			letter-spacing: 0.05em;

			.date-inside-title {
				display: none;
			}
		}
	}
</style>
